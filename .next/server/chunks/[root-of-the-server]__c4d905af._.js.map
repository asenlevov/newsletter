{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///Users/asen/Desktop/PolygrAI/Email%20Template%20Builder/src/app/api/history/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport fs from 'fs/promises'\nimport path from 'path'\n\nconst historyFilePath = path.join(process.cwd(), 'history.json')\n\nasync function getHistory() {\n  try {\n    await fs.access(historyFilePath)\n    const data = await fs.readFile(historyFilePath, 'utf-8')\n    return JSON.parse(data)\n  } catch (error) {\n    return []\n  }\n}\n\nexport async function GET() {\n  const history = await getHistory()\n  return NextResponse.json(history)\n}\n\nexport async function POST(request: Request) {\n  const newEntry = await request.json()\n  const history = await getHistory()\n\n  // Add a timestamp and a short ID to the new entry\n  newEntry.id = Date.now().toString(36) + Math.random().toString(36).substr(2)\n  newEntry.timestamp = new Date().toISOString()\n\n  history.unshift(newEntry) // Add to the beginning\n\n  // Keep the history to a reasonable size\n  const MAX_HISTORY_SIZE = 50\n  if (history.length > MAX_HISTORY_SIZE) {\n    history.pop()\n  }\n\n  await fs.writeFile(historyFilePath, JSON.stringify(history, null, 2))\n  return NextResponse.json({ success: true, entry: newEntry })\n} "],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,MAAM,kBAAkB,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEjD,eAAe;IACb,IAAI;QACF,MAAM,qHAAA,CAAA,UAAE,CAAC,MAAM,CAAC;QAChB,MAAM,OAAO,MAAM,qHAAA,CAAA,UAAE,CAAC,QAAQ,CAAC,iBAAiB;QAChD,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAO,OAAO;QACd,OAAO,EAAE;IACX;AACF;AAEO,eAAe;IACpB,MAAM,UAAU,MAAM;IACtB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;AAC3B;AAEO,eAAe,KAAK,OAAgB;IACzC,MAAM,WAAW,MAAM,QAAQ,IAAI;IACnC,MAAM,UAAU,MAAM;IAEtB,kDAAkD;IAClD,SAAS,EAAE,GAAG,KAAK,GAAG,GAAG,QAAQ,CAAC,MAAM,KAAK,MAAM,GAAG,QAAQ,CAAC,IAAI,MAAM,CAAC;IAC1E,SAAS,SAAS,GAAG,IAAI,OAAO,WAAW;IAE3C,QAAQ,OAAO,CAAC,WAAU,uBAAuB;IAEjD,wCAAwC;IACxC,MAAM,mBAAmB;IACzB,IAAI,QAAQ,MAAM,GAAG,kBAAkB;QACrC,QAAQ,GAAG;IACb;IAEA,MAAM,qHAAA,CAAA,UAAE,CAAC,SAAS,CAAC,iBAAiB,KAAK,SAAS,CAAC,SAAS,MAAM;IAClE,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC;QAAE,SAAS;QAAM,OAAO;IAAS;AAC5D","debugId":null}}]
}